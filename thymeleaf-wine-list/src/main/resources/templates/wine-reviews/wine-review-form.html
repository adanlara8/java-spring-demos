 <!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Add New Review</title>		 
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
   	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   	<link rel="stylesheet" href="css/style.css" >
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	</head>
	
	<body>
		<div class="container" >
			<div class="header" th:replace="fragments/header :: header"></div>
			<div class="new-form">
				
				<div class="alert alert-primary"  th:text="${success}" th:if="${success}"></div>
				
				
					<form action="#" th:action="@{/add-review}"
							th:object="${newWine}" method="POST"					
							enctype="multipart/form-data">

						
						<div th:if="${#fields.hasErrors('*')}" class="alert alert-danger"  >						
							<p th:text="#{newWine.hasErrors}">Error Message</p>
						</div>			
						<div class="form-image">
							<label>Add Image: </label>
							<img id= "thumbnail" src=" images/deafult.png" alt="photo review"	/>
							<input type="file" id="fileImage" name="fileImage"
								accept="image/png, image/jpeg">																					
						</div>	
						<div class="form-details">
							<div class="form-row">									
								<div >								
									<label th:text="Name"></label>																
									<input type="text"  class="form-control" th:field="*{name}" 
										placeholder="Wine Name" />								
									<span th:if="${#fields.hasErrors('name')}" th:errors="*{name}" th:errorclass="error" ></span>	
								</div>
							</div>						
							<div class="form-row">
								<div class="form-group col-md-2">
									<label th:text="Year"></label>
									<select class="form-control" th:field="*{year}" >
					    				<option th:value="'2022'" th:text="2022"></option>			
					    				<option th:value="'2021'" th:text="2021"></option>
					    				<option th:value="'2020'" th:text="2020"></option>
					    				<option th:value="'2019'" th:text="2019"></option>
					    				<option th:value="'2018'" th:text="2018"></option>
					    				<option th:value="'2017'" th:text="2017"></option>
					    				<option th:value="'2016'" th:text="2016"></option>
					   					<option th:value="'2015'" th:text="2015"></option>
					    				<option th:value="'2014'" th:text="2014"></option>
									    <option th:value="'2013'" th:text="2013"></option>
									</select>						
								</div>
								<div class="form-group col-md-1">
									<label th:text="Score"></label>		
									<select class="form-control" th:field="*{score}">			
					   					<option th:value="'1'" th:text="1"></option>
					    				<option th:value="'2'" th:text="2"></option>
					    				<option th:value="'3'" th:text="3"></option>
					    				<option th:value="'4'" th:text="4"></option>
					    				<option th:value="'5'" th:text="5"></option>
					    				<option th:value="'6'" th:text="6"></option>
					    				<option th:value="'7'" th:text="7"></option>
					    				<option th:value="'8'" th:text="8"></option>
					    				<option th:value="'9'" th:text="9"></option>
					    				<option th:value="'10'" th:text="10"></option>
									</select>
								</div>
							</div>
						<div class="form-row">									
							<div>
								<label th:text="Type"></label>
								<input class="form-control" type="text" th:field="*{type}" 
									placeholder="Type"> 
								<span th:if="${#fields.hasErrors('type')}" th:errors="*{type}" th:errorclass="error"></span>	
							</div>	
						</div>	
						
						<div class="form-row">
							<div>
								<label th:text="Comments"></label>
								<input class="form-control" type="text" th:field="*{message}"		
									placeholder="Comments.....">					
							</div>
						</div>	
						<div class="form-row">							
							<button type="submit" class="btn btn-primary col-6">Save</button>							
						</div>								
					</div>	
				</form>
					
				</div>
			</div>
		
		<script type="text/javascript">
		
		$(document).ready(function() {
				
			$('#fileImage').change(function(){
				showImageThumbnail(this);
			});
			
		
			function showImageThumbnail(fileInput) {
			file = fileInput.files[0];
			reader= new FileReader()
			
			reader.onload = function(e) {
				$('#thumbnail').attr('src', e.target.result);	
			};
			
			reader.readAsDataURL(file);
			
			}
		
		})
		
		</script>
		

		
	</body>
	
</html>